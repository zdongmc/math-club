<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MBMT Number Theory Diagnostic - Hallie Wells Math Club</title>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #dc2626 0%, #991b1b 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        h1 {
            color: #dc2626;
            font-size: 2.5rem;
            text-align: center;
            margin-bottom: 20px;
        }

        .subtitle {
            text-align: center;
            color: #666;
            font-size: 1.2rem;
            margin-bottom: 30px;
        }

        .intro {
            background: #f9fafb;
            padding: 25px;
            border-radius: 15px;
            border-left: 5px solid #dc2626;
            margin-bottom: 30px;
            line-height: 1.8;
        }

        .intro h2 {
            color: #dc2626;
            margin-bottom: 15px;
            font-size: 1.5rem;
        }

        .section {
            margin-bottom: 40px;
        }

        .section-header {
            background: linear-gradient(135deg, #dc2626 0%, #991b1b 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .section-header h2 {
            font-size: 1.8rem;
        }

        .section-badge {
            background: white;
            color: #dc2626;
            padding: 8px 20px;
            border-radius: 20px;
            font-weight: bold;
        }

        .problem {
            background: #f9fafb;
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 20px;
            border: 2px solid #e5e7eb;
        }

        .problem-number {
            color: #dc2626;
            font-weight: bold;
            font-size: 1.2rem;
            margin-bottom: 15px;
        }

        .problem-text {
            font-size: 1.1rem;
            line-height: 1.8;
            margin-bottom: 20px;
        }

        .answer-section {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 2px solid #e5e7eb;
        }

        .answer-input {
            display: flex;
            gap: 15px;
            align-items: center;
            margin-bottom: 15px;
        }

        .answer-input input {
            flex: 1;
            padding: 12px;
            font-size: 1rem;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            transition: border-color 0.3s;
        }

        .answer-input input:focus {
            outline: none;
            border-color: #dc2626;
        }

        .difficulty-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .difficulty-btn {
            flex: 1;
            min-width: 120px;
            padding: 12px 20px;
            border: 2px solid #e5e7eb;
            background: white;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .difficulty-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }

        .difficulty-btn.selected {
            border-width: 3px;
            font-weight: bold;
        }

        .difficulty-btn.easy.selected {
            background: #dcfce7;
            border-color: #16a34a;
            color: #16a34a;
        }

        .difficulty-btn.right.selected {
            background: #dbeafe;
            border-color: #2563eb;
            color: #2563eb;
        }

        .difficulty-btn.hard.selected {
            background: #fee2e2;
            border-color: #dc2626;
            color: #dc2626;
        }

        .show-solution-btn {
            background: #6b7280;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.95rem;
            margin-top: 10px;
            transition: all 0.3s ease;
        }

        .show-solution-btn:hover {
            background: #4b5563;
        }

        .solution {
            display: none;
            background: #f0fdf4;
            border: 2px solid #16a34a;
            padding: 20px;
            border-radius: 10px;
            margin-top: 15px;
        }

        .solution.visible {
            display: block;
        }

        .solution-label {
            color: #16a34a;
            font-weight: bold;
            font-size: 1.1rem;
            margin-bottom: 10px;
        }

        .results-container {
            background: linear-gradient(135deg, #f9fafb 0%, #e5e7eb 100%);
            padding: 30px;
            border-radius: 15px;
            margin-top: 40px;
            text-align: center;
        }

        .results-container h2 {
            color: #dc2626;
            margin-bottom: 20px;
            font-size: 2rem;
        }

        .recommendation {
            background: white;
            padding: 30px;
            border-radius: 15px;
            border: 3px solid #dc2626;
            margin-top: 20px;
        }

        .recommendation h3 {
            color: #dc2626;
            font-size: 1.8rem;
            margin-bottom: 15px;
        }

        .recommendation p {
            font-size: 1.2rem;
            line-height: 1.8;
            color: #333;
        }

        .calculate-btn {
            background: linear-gradient(135deg, #dc2626 0%, #991b1b 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.2rem;
            font-weight: bold;
            border-radius: 10px;
            cursor: pointer;
            margin-top: 30px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .calculate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.2);
        }

        .calculate-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }

            h1 {
                font-size: 2rem;
            }

            .section-header {
                flex-direction: column;
                text-align: center;
                gap: 10px;
            }

            .difficulty-buttons {
                flex-direction: column;
            }

            .difficulty-btn {
                min-width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>MBMT Number Theory Diagnostic</h1>
        <p class="subtitle">Hallie Wells Middle School Competition Math Club</p>

        <div class="intro">
            <h2>How to Use This Tool</h2>
            <p><strong>Goal:</strong> Help you understand your number theory skills and choose the right division for MBMT 2026.</p>
            <p style="margin-top: 15px;">
                <strong>Instructions:</strong>
            </p>
            <ol style="margin-left: 20px; margin-top: 10px;">
                <li>Try solving each problem below (use scratch paper if needed)</li>
                <li>Enter your answer in the box provided</li>
                <li>Rate how difficult the problem felt to YOU:
                    <ul style="margin-left: 20px; margin-top: 5px;">
                        <li><strong>Too Easy</strong> - You solved it quickly and confidently</li>
                        <li><strong>Just Right</strong> - Challenging but doable with effort</li>
                        <li><strong>Too Hard</strong> - Couldn't solve it or very struggling</li>
                    </ul>
                </li>
                <li>Click "Show Solution" to check your work</li>
                <li>After rating all problems, click "Get Recommendation"</li>
            </ol>
            <p style="margin-top: 15px; color: #dc2626; font-weight: 500;">
                <strong>Note:</strong> These problems are from past MBMT competitions. Your ratings will help determine which division suits you best.
            </p>
        </div>

        <!-- Set 1: Lower Division Section -->
        <div class="section" id="lower-section">
            <div class="section-header">
                <h2>Lower Division Problems</h2>
                <span class="section-badge">3 Problems</span>
            </div>

            <!-- Problem 1: Lower -->
            <div class="problem">
                <div class="problem-number">Problem 1 (Lower)</div>
                <div class="problem-text">
                    What is the smallest positive three-digit integer that is a multiple of 5, but not a multiple of 2 or 3?
                </div>
                <div class="answer-section">
                    <div class="answer-input">
                        <label><strong>Your Answer:</strong></label>
                        <input type="text" id="lower-1-answer" placeholder="Enter your answer">
                    </div>
                    <label><strong>How difficult was this?</strong></label>
                    <div class="difficulty-buttons">
                        <button class="difficulty-btn easy" onclick="selectDifficulty('lower-1', 'easy')">üòä Too Easy</button>
                        <button class="difficulty-btn right" onclick="selectDifficulty('lower-1', 'right')">üëç Just Right</button>
                        <button class="difficulty-btn hard" onclick="selectDifficulty('lower-1', 'hard')">üò∞ Too Hard</button>
                    </div>
                    <button class="show-solution-btn" onclick="toggleSolution('lower-1')">Show Solution</button>
                    <div class="solution" id="lower-1-solution">
                        <div class="solution-label">Answer: 115</div>
                        <p><strong>Solution:</strong> The smallest three-digit multiple of 5 is 100, but that is divisible by 2. Next up is 105, but that is divisible by 3. 110 is likewise divisible by 2, but 115 is not divisible by 2 or 3, so that is our answer.</p>
                    </div>
                </div>
            </div>

            <!-- Problem 2: Lower -->
            <div class="problem">
                <div class="problem-number">Problem 2 (Lower)</div>
                <div class="problem-text">
                    What is the smallest positive integer \(N\) such that its value is 5 times the sum of its digits?
                </div>
                <div class="answer-section">
                    <div class="answer-input">
                        <label><strong>Your Answer:</strong></label>
                        <input type="text" id="lower-2-answer" placeholder="Enter your answer">
                    </div>
                    <label><strong>How difficult was this?</strong></label>
                    <div class="difficulty-buttons">
                        <button class="difficulty-btn easy" onclick="selectDifficulty('lower-2', 'easy')">üòä Too Easy</button>
                        <button class="difficulty-btn right" onclick="selectDifficulty('lower-2', 'right')">üëç Just Right</button>
                        <button class="difficulty-btn hard" onclick="selectDifficulty('lower-2', 'hard')">üò∞ Too Hard</button>
                    </div>
                    <button class="show-solution-btn" onclick="toggleSolution('lower-2')">Show Solution</button>
                    <div class="solution" id="lower-2-solution">
                        <div class="solution-label">Answer: 45</div>
                        <p><strong>Solution:</strong> Clearly \(N\) cannot have only a single digit, because otherwise \(5N = N\), but \(N\) is positive. If \(N\) is a two-digit number, let \(N = 10a+b\), so \(10a+b = 5(a+b)\). This rearranges to \(5a = 4b\). Since \(a\) and \(b\) are both digits, we have \(a = 4\) and \(b = 5\).</p>
                    </div>
                </div>
            </div>

            <!-- Problem 3: Lower -->
            <div class="problem">
                <div class="problem-number">Problem 3 (Lower)</div>
                <div class="problem-text">
                    Shriyan divides his favorite three-digit number by 2, 3, 4, 8, 9, and 11 and gets a remainder of 1 each time. What is Shriyan's favorite three-digit number?
                </div>
                <div class="answer-section">
                    <div class="answer-input">
                        <label><strong>Your Answer:</strong></label>
                        <input type="text" id="lower-3-answer" placeholder="Enter your answer">
                    </div>
                    <label><strong>How difficult was this?</strong></label>
                    <div class="difficulty-buttons">
                        <button class="difficulty-btn easy" onclick="selectDifficulty('lower-3', 'easy')">üòä Too Easy</button>
                        <button class="difficulty-btn right" onclick="selectDifficulty('lower-3', 'right')">üëç Just Right</button>
                        <button class="difficulty-btn hard" onclick="selectDifficulty('lower-3', 'hard')">üò∞ Too Hard</button>
                    </div>
                    <button class="show-solution-btn" onclick="toggleSolution('lower-3')">Show Solution</button>
                    <div class="solution" id="lower-3-solution">
                        <div class="solution-label">Answer: 793</div>
                        <p><strong>Solution:</strong> Let us find the least common multiple of 2, 3, 4, 8, 9, and 11. We need to have 3 factors of 2, 2 factors of 3, and 1 factor of 11. Multiplying these out gives a value of 792, so if Shriyan's number is 793, it will have a remainder of 1 when divided by each of 2, 3, 4, 8, 9, and 11.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Set 2: Upper Division Section -->
        <div class="section" id="upper-section">
            <div class="section-header">
                <h2>Upper Division Problems</h2>
                <span class="section-badge">3 Problems</span>
            </div>

            <!-- Problem 4: Upper -->
            <div class="problem">
                <div class="problem-number">Problem 4 (Upper)</div>
                <div class="problem-text">
                    Stephen correctly computes the product of the first four prime numbers. Ricky also attempts to compute the product of the first four prime numbers, but he mistakenly believes that the first prime number is 1, not 2. What is the positive difference between Stephen's and Ricky's calculations?
                </div>
                <div class="answer-section">
                    <div class="answer-input">
                        <label><strong>Your Answer:</strong></label>
                        <input type="text" id="upper-1-answer" placeholder="Enter your answer">
                    </div>
                    <label><strong>How difficult was this?</strong></label>
                    <div class="difficulty-buttons">
                        <button class="difficulty-btn easy" onclick="selectDifficulty('upper-1', 'easy')">üòä Too Easy</button>
                        <button class="difficulty-btn right" onclick="selectDifficulty('upper-1', 'right')">üëç Just Right</button>
                        <button class="difficulty-btn hard" onclick="selectDifficulty('upper-1', 'hard')">üò∞ Too Hard</button>
                    </div>
                    <button class="show-solution-btn" onclick="toggleSolution('upper-1')">Show Solution</button>
                    <div class="solution" id="upper-1-solution">
                        <div class="solution-label">Answer: 180</div>
                        <p><strong>Solution:</strong> The first four prime numbers are 2, 3, 5, and 7. Stephen calculates \(2 \times 3 \times 5 \times 7 = 210\). Ricky calculates \(1 \times 2 \times 3 \times 5 = 30\). The positive difference is \(210 ‚àí 30 = 180\).</p>
                    </div>
                </div>
            </div>

            <!-- Problem 5: Upper -->
            <div class="problem">
                <div class="problem-number">Problem 5 (Upper)</div>
                <div class="problem-text">
                    Three consecutive nonzero digits are taken, and the 6 numbers formed by permuting the digits are added. What is the largest integer that must divide the sum?
                </div>
                <div class="answer-section">
                    <div class="answer-input">
                        <label><strong>Your Answer:</strong></label>
                        <input type="text" id="upper-2-answer" placeholder="Enter your answer">
                    </div>
                    <label><strong>How difficult was this?</strong></label>
                    <div class="difficulty-buttons">
                        <button class="difficulty-btn easy" onclick="selectDifficulty('upper-2', 'easy')">üòä Too Easy</button>
                        <button class="difficulty-btn right" onclick="selectDifficulty('upper-2', 'right')">üëç Just Right</button>
                        <button class="difficulty-btn hard" onclick="selectDifficulty('upper-2', 'hard')">üò∞ Too Hard</button>
                    </div>
                    <button class="show-solution-btn" onclick="toggleSolution('upper-2')">Show Solution</button>
                    <div class="solution" id="upper-2-solution">
                        <div class="solution-label">Answer: 666</div>
                        <p><strong>Solution:</strong> Let the digits be \(n ‚àí 1\), \(n\), and \(n + 1\) where \(2 \leq n \leq 8\). Each digit appears in each location twice, so the sum is \(200((n ‚àí 1) + n + (n + 1)) + 20((n ‚àí 1) + n + (n + 1)) + 2((n ‚àí 1) + n + (n + 1))\). This becomes \(222 \cdot 3n = 666n\). 666 clearly divides this. Trying both \(n = 2\) and \(n = 3\) shows 666 is the largest number that will always divide \(666n\).</p>
                    </div>
                </div>
            </div>

            <!-- Problem 6: Upper -->
            <div class="problem">
                <div class="problem-number">Problem 6 (Upper)</div>
                <div class="problem-text">
                    Let \(m, n > 2025\) be prime numbers such that \(m = n + 2\). What is the remainder when \(mn\) is divided by 36?
                </div>
                <div class="answer-section">
                    <div class="answer-input">
                        <label><strong>Your Answer:</strong></label>
                        <input type="text" id="upper-3-answer" placeholder="Enter your answer">
                    </div>
                    <label><strong>How difficult was this?</strong></label>
                    <div class="difficulty-buttons">
                        <button class="difficulty-btn easy" onclick="selectDifficulty('upper-3', 'easy')">üòä Too Easy</button>
                        <button class="difficulty-btn right" onclick="selectDifficulty('upper-3', 'right')">üëç Just Right</button>
                        <button class="difficulty-btn hard" onclick="selectDifficulty('upper-3', 'hard')">üò∞ Too Hard</button>
                    </div>
                    <button class="show-solution-btn" onclick="toggleSolution('upper-3')">Show Solution</button>
                    <div class="solution" id="upper-3-solution">
                        <div class="solution-label">Answer: 35</div>
                        <p><strong>Solution:</strong> Since \(n\) and \(n + 2\) are both prime and therefore not multiples of 3, \(n + 1\) must be a multiple of 3. Similarly, \(n + 1\) must be even. Thus, \(n + 1\) is a multiple of 6. Let \(n + 1 = 6a\). Then \(mn = (6a + 1)(6a ‚àí 1) = 36a^2 ‚àí 1\). Since \(36a^2\) is divisible by 36, \(36a^2 ‚àí 1\) leaves a remainder of 35 when divided by 36.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Results Section -->
        <div class="results-container">
            <h2>Ready for Your Recommendation?</h2>
            <p style="margin-bottom: 20px; font-size: 1.1rem;">Make sure you've rated all 6 problems above, then click below:</p>
            <button class="calculate-btn" onclick="calculateRecommendation()">Get My Division Recommendation</button>

            <div class="recommendation" id="recommendation" style="display: none;">
                <h3 id="rec-title"></h3>
                <p id="rec-text"></p>
            </div>
        </div>
    </div>

    <script>
        // Store difficulty ratings
        const ratings = {};

        function selectDifficulty(problemId, difficulty) {
            ratings[problemId] = difficulty;

            document.querySelectorAll('.difficulty-btn').forEach(btn => {
                if (btn.getAttribute('onclick').includes(problemId)) {
                    btn.classList.remove('selected');
                    if (btn.getAttribute('onclick').includes(`'${difficulty}'`)) {
                        btn.classList.add('selected');
                    }
                }
            });
        }

        function toggleSolution(problemId) {
            const solution = document.getElementById(`${problemId}-solution`);
            solution.classList.toggle('visible');

            const button = event.target;
            if (solution.classList.contains('visible')) {
                button.textContent = 'Hide Solution';
            } else {
                button.textContent = 'Show Solution';
            }
        }

        function calculateRecommendation() {
            // Check if all problems are rated
            const requiredRatings = ['lower-1', 'lower-2', 'lower-3', 'upper-1', 'upper-2', 'upper-3'];
            const missingRatings = requiredRatings.filter(id => !ratings[id]);

            if (missingRatings.length > 0) {
                alert(`Please rate all problems before getting your recommendation. You haven't rated: ${missingRatings.length} problem(s).`);
                return;
            }

            // Calculate scores
            const scoreMap = { 'easy': 3, 'right': 2, 'hard': 1 };

            const lowerScore = (scoreMap[ratings['lower-1']] || 0) +
                               (scoreMap[ratings['lower-2']] || 0) +
                               (scoreMap[ratings['lower-3']] || 0);

            const upperScore = (scoreMap[ratings['upper-1']] || 0) +
                               (scoreMap[ratings['upper-2']] || 0) +
                               (scoreMap[ratings['upper-3']] || 0);

            // Determine recommendation
            let title = '';
            let text = '';

            if (lowerScore >= 8 && upperScore >= 7) {
                title = 'üéØ Number Theory Recommendation: Upper Division';
                text = 'You found the lower division problems comfortable and handled the upper division problems well. You\'re ready for the upper division in number theory!';
            } else if (lowerScore >= 7 && upperScore >= 5) {
                title = 'ü§î Number Theory Recommendation: Discuss with Coach';
                text = 'You\'re right on the border! You could compete successfully in either division for number theory. Discuss with Prof. Jojo to decide based on your overall comfort level across all subjects.';
            } else if (lowerScore >= 6 && upperScore <= 4) {
                title = 'üëç Number Theory Recommendation: Lower Division';
                text = 'The lower division problems were at a good level for you. The lower division will let you showcase your number theory skills and build confidence!';
            } else if (lowerScore <= 5) {
                title = 'üí™ Number Theory Recommendation: Lower Division';
                text = 'The lower division problems were challenging for you. The lower division is a great fit where you can compete effectively and continue developing your number theory skills!';
            } else {
                title = 'üéØ Number Theory Recommendation: Upper Division';
                text = 'Based on your performance, you\'re ready for the upper division. You handled the more difficult problems well!';
            }

            // Save results to localStorage
            const results = {
                lowerScore: lowerScore,
                upperScore: upperScore,
                totalScore: lowerScore + upperScore,
                recommendation: title,
                timestamp: new Date().toISOString()
            };
            localStorage.setItem('mbmt-numberTheory-results', JSON.stringify(results));

            // Display recommendation
            document.getElementById('rec-title').textContent = title;
            document.getElementById('rec-text').textContent = text;
            document.getElementById('recommendation').style.display = 'block';

            // Add button to return to main page
            if (!document.getElementById('return-btn')) {
                const returnBtn = document.createElement('button');
                returnBtn.id = 'return-btn';
                returnBtn.className = 'calculate-btn';
                returnBtn.style.marginTop = '20px';
                returnBtn.textContent = 'Return to Diagnostic Center';
                returnBtn.onclick = function() {
                    window.location.href = 'division-diagnostic.html';
                };
                document.getElementById('recommendation').appendChild(returnBtn);
            }

            // Scroll to recommendation
            document.getElementById('recommendation').scrollIntoView({ behavior: 'smooth' });
        }

        // Trigger MathJax rendering after page load
        window.addEventListener('load', function() {
            if (window.MathJax) {
                MathJax.typesetPromise();
            }
        });
    </script>
</body>
</html>
